<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:controls="clr-namespace:Calculator.Controls"
    x:Class="Calculator.MainPage"
    BackgroundColor="{StaticResource CalcBackground}">

    <!-- ROOT: no vertical padding bias, only safe horizontal padding -->
    <Grid Padding="16"
          RowDefinitions="*,Auto">

        <!-- 
            FLEXIBLE TOP SPACER 
            (absorbs extra height to allow consistent layout across different screens 
            [effectively pushes the calculator toward bottom]) 
        -->
        <Grid Row="0" />

        <!-- CALCULATOR BODY (keeps proportions) -->
        <Grid Row="1"
              RowDefinitions="Auto,Auto">

            <!-- DISPLAY AREA -->
            <Grid Row="0"
                  Padding="0,16,0,8"
                  RowDefinitions="Auto,Auto" 
                  VerticalOptions="End">

                <!-- HISTORY -->
                <Label
                    x:Name="History"
                    FontSize="18"
                    TextColor="{StaticResource Gray400}"
                    HorizontalOptions="End"
                    HorizontalTextAlignment="End"/>

                <!-- MAIN DISPLAY -->
                <Label
                    x:Name="Display"
                    Grid.Row="1"
                    Style="{StaticResource CalcDisplay}"
                    HorizontalOptions="Fill"
                    VerticalOptions="End"/>
            </Grid>

            <!-- KEYPAD -->
            <Grid Row="1"
                  VerticalOptions="End"
                  ColumnSpacing="6"
                  RowSpacing="6"
                  ColumnDefinitions="*,*,*,*"
                  RowDefinitions="*,*,*,*,*">    <!-- "*,*,*,*,*" as: take all the available space [ "auto" would have been content-driven sizing ] -->

                <!-- Row 1 -->
                <controls:CalcButton Text="AC" Style="{StaticResource CalcFunctionButton}" Clicked="OnButtonClicked"/>
                <controls:CalcButton Text="1/x" Style="{StaticResource CalcFunctionButton}" Grid.Column="1" Clicked="OnButtonClicked"/>
                <controls:CalcButton Text="%" Style="{StaticResource CalcFunctionButton}" Grid.Column="2" Clicked="OnButtonClicked"/>
                <controls:CalcButton Text="÷" Style="{StaticResource CalcOperatorButton}" Grid.Column="3" Clicked="OnButtonClicked"/>

                <!-- Row 2 -->
                <controls:CalcButton Text="7" Style="{StaticResource CalcNumberButton}" Grid.Row="1" Clicked="OnButtonClicked"/>
                <controls:CalcButton Text="8" Style="{StaticResource CalcNumberButton}" Grid.Row="1" Grid.Column="1" Clicked="OnButtonClicked"/>
                <controls:CalcButton Text="9" Style="{StaticResource CalcNumberButton}" Grid.Row="1" Grid.Column="2" Clicked="OnButtonClicked"/>
                <controls:CalcButton Text="×" Style="{StaticResource CalcOperatorButton}" Grid.Row="1" Grid.Column="3" Clicked="OnButtonClicked"/>

                <!-- Row 3 -->
                <controls:CalcButton Text="4" Style="{StaticResource CalcNumberButton}" Grid.Row="2" Clicked="OnButtonClicked"/>
                <controls:CalcButton Text="5" Style="{StaticResource CalcNumberButton}" Grid.Row="2" Grid.Column="1" Clicked="OnButtonClicked"/>
                <controls:CalcButton Text="6" Style="{StaticResource CalcNumberButton}" Grid.Row="2" Grid.Column="2" Clicked="OnButtonClicked"/>
                <controls:CalcButton Text="−" Style="{StaticResource CalcOperatorButton}" Grid.Row="2" Grid.Column="3" Clicked="OnButtonClicked"/>

                <!-- Row 4 -->
                <controls:CalcButton Text="1" Style="{StaticResource CalcNumberButton}" Grid.Row="3" Clicked="OnButtonClicked"/>
                <controls:CalcButton Text="2" Style="{StaticResource CalcNumberButton}" Grid.Row="3" Grid.Column="1" Clicked="OnButtonClicked"/>
                <controls:CalcButton Text="3" Style="{StaticResource CalcNumberButton}" Grid.Row="3" Grid.Column="2" Clicked="OnButtonClicked"/>
                <controls:CalcButton Text="+" Style="{StaticResource CalcOperatorButton}" Grid.Row="3" Grid.Column="3" Clicked="OnButtonClicked"/>

                <!-- Row 5 -->
                <controls:CalcButton Text="±" Style="{StaticResource CalcFunctionButton}" Grid.Row="4" Clicked="OnButtonClicked"/>
                <controls:CalcButton Text="0" Style="{StaticResource CalcNumberButton}" Grid.Row="4" Grid.Column="1" Clicked="OnButtonClicked"/>
                <controls:CalcButton Text="." Style="{StaticResource CalcNumberButton}" Grid.Row="4" Grid.Column="2" Clicked="OnButtonClicked"/>
                <controls:CalcButton Text="=" Style="{StaticResource CalcOperatorButton}" Grid.Row="4" Grid.Column="3" Clicked="OnButtonClicked"/>

            </Grid>
        </Grid>
    </Grid>
</ContentPage>
